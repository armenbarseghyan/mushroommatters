<div class="product-tile" data-product-tile>
  <div class="product-tile__image">
    {%- if block.settings.image != blank -%}
      <img src="{{ block.settings.image | image_url: width: 400 }}" 
           alt="{{ block.settings.title }}"
           loading="lazy"
           class="product-tile__img">
    {%- else -%}
      <div class="product-tile__placeholder">
        <svg width="60" height="60" viewBox="0 0 60 60">
          <rect x="10" y="10" width="40" height="40" rx="8" fill="currentColor" opacity="0.1"/>
          <path d="M30 20v20M20 30h20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </div>
    {%- endif -%}
    
    {%- if block.settings.badge != blank -%}
      <div class="product-tile__badge">
        {{ block.settings.badge }}
      </div>
    {%- endif -%}
  </div>
  
  <div class="product-tile__content">
    <h3 class="product-tile__title">{{ block.settings.title }}</h3>
    
    {%- if block.settings.subtitle != blank -%}
      <p class="product-tile__subtitle">{{ block.settings.subtitle }}</p>
    {%- endif -%}
    
    {%- if block.settings.price != blank -%}
      <div class="product-tile__price">{{ block.settings.price }}</div>
    {%- endif -%}
    
    {%- if block.settings.description != blank -%}
      <p class="product-tile__description">{{ block.settings.description }}</p>
    {%- endif -%}
    
    {%- if block.settings.button_text != blank and block.settings.button_url != blank -%}
      <a href="{{ block.settings.button_url }}" class="product-tile__button button button--primary">
        {{ block.settings.button_text }}
      </a>
    {%- endif -%}
  </div>
</div>

{% stylesheet %}
  .product-tile {
    background-color: rgb(var(--color-base-background-1));
    border-radius: var(--product-card-corner-radius);
    overflow: hidden;
    transition: all 0.3s ease;
    position: relative;
    height: 100%;
    display: flex;
    flex-direction: column;
  }
  
  .product-tile:hover {
    transform: translateY(-4px);
    box-shadow: 0 1rem 3rem rgba(var(--color-base-text), 0.1);
  }
  
  .product-tile__image {
    position: relative;
    aspect-ratio: 1;
    overflow: hidden;
    background-color: rgb(var(--color-base-background-2));
  }
  
  .product-tile__img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s ease;
  }
  
  .product-tile:hover .product-tile__img {
    transform: scale(1.05);
  }
  
  .product-tile__placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: rgba(var(--color-base-text), 0.3);
  }
  
  .product-tile__badge {
    position: absolute;
    top: 1.2rem;
    left: 1.2rem;
    background-color: rgb(var(--color-base-accent-1));
    color: rgb(var(--color-base-solid-button-labels));
    padding: 0.4rem 0.8rem;
    border-radius: var(--badge-corner-radius);
    font-size: 1.2rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  
  .product-tile__content {
    padding: 2.4rem;
    flex: 1;
    display: flex;
    flex-direction: column;
  }
  
  .product-tile__title {
    font-size: 1.8rem;
    font-weight: 600;
    margin-bottom: 0.8rem;
    color: rgb(var(--color-base-text));
    line-height: 1.3;
  }
  
  .product-tile__subtitle {
    font-size: 1.4rem;
    color: rgb(var(--color-base-accent-1));
    font-weight: 500;
    margin-bottom: 1.2rem;
  }
  
  .product-tile__price {
    font-size: 1.6rem;
    font-weight: 700;
    color: rgb(var(--color-base-accent-1));
    margin-bottom: 1.6rem;
  }
  
  .product-tile__description {
    font-size: 1.4rem;
    color: rgba(var(--color-base-text), 0.7);
    line-height: 1.5;
    margin-bottom: 2.4rem;
    flex: 1;
  }
  
  .product-tile__button {
    margin-top: auto;
    width: 100%;
    justify-content: center;
  }
  
  @media (max-width: 749px) {
    .product-tile__content {
      padding: 1.6rem;
    }
    
    .product-tile__title {
      font-size: 1.6rem;
    }
    
    .product-tile__description {
      font-size: 1.2rem;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Product tile",
  "settings": [
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Product name"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle"
    },
    {
      "type": "text",
      "id": "price",
      "label": "Price",
      "default": "Â£29.99"
    },
    {
      "type": "text",
      "id": "description",
      "label": "Description",
      "default": "Product description goes here"
    },
    {
      "type": "text",
      "id": "badge",
      "label": "Badge text"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "Button URL"
    }
  ]
}
{% endschema %}
